$date
	Fri Oct 25 18:28:15 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module comunicacion_tb $end
$var wire 16 ! WR_DATA_OUTPUT [15:0] $end
$var wire 1 " SDA_OUT $end
$var wire 1 # SDA_OE $end
$var wire 1 $ SDA_IN $end
$var wire 1 % SCL $end
$var wire 16 & RD_DATA_OUTPUT [15:0] $end
$var reg 7 ' I2C_ADDR [6:0] $end
$var reg 16 ( RD_DATA_INPUT [15:0] $end
$var reg 1 ) RNW $end
$var reg 1 * START_STB $end
$var reg 16 + WR_DATA_INPUT [15:0] $end
$var reg 1 , clk $end
$var reg 1 - rst $end
$scope module U0 $end
$var wire 7 . I2C_ADDR [6:0] $end
$var wire 1 ) RNW $end
$var wire 1 * START_STB $end
$var wire 16 / WR_DATA [15:0] $end
$var wire 1 , clk $end
$var wire 1 - rst $end
$var wire 1 0 clk_div4 $end
$var wire 1 $ SDA_IN $end
$var wire 1 % SCL $end
$var reg 16 1 RD_DATA [15:0] $end
$var reg 1 # SDA_OE $end
$var reg 1 " SDA_OUT $end
$var reg 1 2 clk_div2 $end
$var reg 1 3 condicion_de_parada $end
$var reg 1 4 condicion_scl $end
$var reg 5 5 contador_DATA [4:0] $end
$var reg 5 6 contador_RD_DATA [4:0] $end
$var reg 5 7 contador_adr [4:0] $end
$var reg 5 8 contador_bits [4:0] $end
$var reg 2 9 count_clock [1:0] $end
$var reg 1 : flag_comunicacion $end
$var reg 1 ; flag_end_addres $end
$var reg 3 < next_state [2:0] $end
$var reg 3 = state [2:0] $end
$upscope $end
$scope module U1 $end
$var wire 7 > I2C_ADDR_receptor [6:0] $end
$var wire 16 ? RD_DATA_receptor [15:0] $end
$var wire 1 % SCL $end
$var wire 1 # SDA_OE $end
$var wire 1 " SDA_OUT $end
$var wire 1 , clk_receptor $end
$var wire 1 - rst_receptor $end
$var reg 1 $ SDA_IN $end
$var reg 16 @ WR_DATA_receptor [15:0] $end
$var reg 5 A contador_DATA_receptor [4:0] $end
$var reg 5 B contador_adr_receptor [4:0] $end
$var reg 5 C contador_bits_receptor [4:0] $end
$var reg 1 D flag_comunicacion_receptor $end
$var reg 1 E flag_end_addres $end
$var reg 7 F get_I2C_ADDR [6:0] $end
$var reg 3 G next_state_receptor [2:0] $end
$var reg 1 H se_envio_direcion $end
$var reg 3 I state_receptor [2:0] $end
$var reg 1 J ultimo_bit_adr $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
xJ
bx I
xH
bx G
bx F
xE
xD
bx C
bx B
bx A
bx @
b101011001111000 ?
b111101 >
bx =
bx <
x;
x:
bx 9
bx 8
bx 7
bx 6
bx 5
x4
x3
x2
bx 1
x0
b1001000110100 /
b111101 .
0-
0,
b1001000110100 +
0*
0)
b101011001111000 (
b111101 '
bx &
x%
x$
x#
x"
bx !
$end
#10
0J
b0 F
b0 B
b0 C
00
1%
b0 <
b0 G
1"
1#
b0 5
b0 9
02
b0 7
b0 8
03
04
0;
0:
b0 =
b0 A
0H
0E
1D
b0 I
1,
#20
0,
#25
1-
#30
0$
b1 9
12
1,
#40
0,
#50
10
b10 9
02
1,
#60
0,
#70
b11 9
12
1,
#75
b1 G
0"
b1 <
14
1*
#80
0,
#90
0%
00
b110 G
b0 9
02
b1 =
b1 I
1,
#95
0*
#100
0,
#110
b110 I
b1 9
12
1,
#120
0,
#130
b1 B
b1 7
1%
10
b10 9
02
1,
#140
0,
#150
b11 9
12
1,
#160
0,
#170
0%
00
b0 9
02
1,
#180
0,
#190
b1 9
12
1,
#200
0,
#210
b10 7
1"
b10 B
1%
10
b10 9
02
1,
#220
0,
#230
b11 9
12
1,
#240
0,
#250
0%
00
b0 9
02
1,
#260
0,
#270
b1 9
12
1,
#280
0,
#290
b11 B
b1 F
b11 7
1%
10
b10 9
02
1,
#300
0,
#310
b11 9
12
1,
#320
0,
#330
0%
00
b0 9
02
1,
#340
0,
#350
b1 9
12
1,
#360
0,
#370
b100 7
b100 B
b11 F
1%
10
b10 9
02
1,
#380
0,
#390
b11 9
12
1,
#400
0,
#410
0%
00
b0 9
02
1,
#420
0,
#430
b1 9
12
1,
#440
0,
#450
b101 B
b111 F
b101 7
1%
10
b10 9
02
1,
#460
0,
#470
b11 9
12
1,
#480
0,
#490
0%
00
b0 9
02
1,
#500
0,
#510
b1 9
12
1,
#520
0,
#530
b110 7
0"
b110 B
b1111 F
1%
10
b10 9
02
1,
#540
0,
#550
b11 9
12
1,
#560
0,
#570
0%
00
b0 9
02
1,
#580
0,
#590
b1 9
12
1,
#600
0,
#610
b111 B
b11110 F
b111 7
1"
1%
10
b10 9
02
1,
#620
0,
#630
b11 9
12
1,
#640
0,
#650
0%
00
b0 9
02
1,
#660
0,
#670
b1 9
12
1,
#680
0,
#690
b1000 7
0"
b1000 B
b111101 F
1%
10
b10 9
02
1,
#700
0,
#710
b11 9
12
1,
#720
0,
#730
0%
00
b0 9
02
1,
#740
0,
#750
b1 9
12
1,
#760
0,
#770
b10 G
b101 <
b1001 B
b1001 7
1%
10
b10 9
02
1,
#780
0,
#790
0#
1H
b10 <
1E
b10 I
b11 9
12
b101 =
1,
#800
0,
#810
1#
0%
00
b0 9
02
b10 =
1,
#820
0,
#830
b1 9
12
1,
#840
0,
#850
b1 8
b1 5
b1 C
b1 A
bx0 !
bx0 @
1%
10
b10 9
02
1,
#860
0,
#870
b11 9
12
1,
#880
0,
#890
0%
00
b0 9
02
1,
#900
0,
#910
b1 9
12
1,
#920
0,
#930
b10 C
b10 A
bx00 !
bx00 @
b10 8
b10 5
1%
10
b10 9
02
1,
#940
0,
#950
b11 9
12
1,
#960
0,
#970
0%
00
b0 9
02
1,
#980
0,
#990
b1 9
12
1,
#1000
0,
#1010
b11 8
b11 5
b11 C
b11 A
bx000 !
bx000 @
1%
10
b10 9
02
1,
#1020
0,
#1030
b11 9
12
1,
#1040
0,
#1050
0%
00
b0 9
02
1,
#1060
0,
#1070
b1 9
12
1,
#1080
0,
#1090
b100 C
b100 A
bx0000 !
bx0000 @
b100 8
b100 5
1"
1%
10
b10 9
02
1,
#1100
0,
#1110
b11 9
12
1,
#1120
0,
#1130
0%
00
b0 9
02
1,
#1140
0,
#1150
b1 9
12
1,
#1160
0,
#1170
b101 8
b101 5
0"
b101 C
b101 A
bx00001 !
bx00001 @
1%
10
b10 9
02
1,
#1180
0,
#1190
b11 9
12
1,
#1200
0,
#1210
0%
00
b0 9
02
1,
#1220
0,
#1230
b1 9
12
1,
#1240
0,
#1250
b110 C
b110 A
bx000010 !
bx000010 @
b110 8
b110 5
1%
10
b10 9
02
1,
#1260
0,
#1270
b11 9
12
1,
#1280
0,
#1290
0%
00
b0 9
02
1,
#1300
0,
#1310
b1 9
12
1,
#1320
0,
#1330
b111 8
b111 5
1"
b111 C
b111 A
bx0000100 !
bx0000100 @
1%
10
b10 9
02
1,
#1340
0,
#1350
b11 9
12
1,
#1360
0,
#1370
0%
00
b0 9
02
1,
#1380
0,
#1390
b1 9
12
1,
#1400
0,
#1410
b1000 C
b1000 A
bx00001001 !
bx00001001 @
b1000 8
b1000 5
0"
1%
10
b10 9
02
1,
#1420
0,
#1430
b11 9
12
1,
#1440
0,
#1450
0%
00
b0 9
02
1,
#1460
0,
#1470
b1 9
12
1,
#1480
0,
#1490
b101 <
1:
b110 G
b1001 8
b1001 5
b1001 C
b1001 A
bx000010010 !
bx000010010 @
1%
10
b10 9
02
1,
#1500
0,
#1510
0#
b10 G
b0 C
b10 <
b0 8
b110 I
b11 9
12
b101 =
1,
#1520
0,
#1530
1#
0%
00
b0 9
02
b10 =
b10 I
1,
#1540
0,
#1550
b1 9
12
1,
#1560
0,
#1570
b1 C
b1010 A
bx0000100100 !
bx0000100100 @
b1 8
b1010 5
1%
10
b10 9
02
1,
#1580
0,
#1590
b11 9
12
1,
#1600
0,
#1610
0%
00
b0 9
02
1,
#1620
0,
#1630
b1 9
12
1,
#1640
0,
#1650
b10 8
b1011 5
1"
b10 C
b1011 A
bx00001001000 !
bx00001001000 @
1%
10
b10 9
02
1,
#1660
0,
#1670
b11 9
12
1,
#1680
0,
#1690
0%
00
b0 9
02
1,
#1700
0,
#1710
b1 9
12
1,
#1720
0,
#1730
b11 C
b1100 A
bx000010010001 !
bx000010010001 @
b11 8
b1100 5
1%
10
b10 9
02
1,
#1740
0,
#1750
b11 9
12
1,
#1760
0,
#1770
0%
00
b0 9
02
1,
#1780
0,
#1790
b1 9
12
1,
#1800
0,
#1810
b100 8
b1101 5
0"
b100 C
b1101 A
bx0000100100011 !
bx0000100100011 @
1%
10
b10 9
02
1,
#1820
0,
#1830
b11 9
12
1,
#1840
0,
#1850
0%
00
b0 9
02
1,
#1860
0,
#1870
b1 9
12
1,
#1880
0,
#1890
b101 C
b1110 A
bx00001001000110 !
bx00001001000110 @
b101 8
b1110 5
1"
1%
10
b10 9
02
1,
#1900
0,
#1910
b11 9
12
1,
#1920
0,
#1930
0%
00
b0 9
02
1,
#1940
0,
#1950
b1 9
12
1,
#1960
0,
#1970
b110 8
b1111 5
0"
b110 C
b1111 A
bx000010010001101 !
bx000010010001101 @
1%
10
b10 9
02
1,
#1980
0,
#1990
b11 9
12
1,
#2000
0,
#2010
0%
00
b0 9
02
1,
#2020
0,
#2030
b1 9
12
1,
#2040
0,
#2050
b111 C
b10000 A
b100100011010 !
b100100011010 @
b111 8
b10000 5
1%
10
b10 9
02
1,
#2060
0,
#2070
b11 9
12
1,
#2080
0,
#2090
0%
00
b0 9
02
1,
#2100
0,
#2110
b1 9
12
1,
#2120
0,
#2130
b1000 8
b10001 5
b1000 C
b10001 A
b1001000110100 !
b1001000110100 @
1%
10
b10 9
02
1,
#2140
0,
#2150
b11 9
12
1,
#2160
0,
#2170
0%
00
b0 9
02
1,
#2180
0,
#2190
b1 9
12
1,
#2200
0,
#2210
b110 G
b101 <
b1001 C
b10010 A
b1001 8
b10010 5
1%
10
b10 9
02
1,
#2220
0,
#2230
0#
b100 G
b100 <
0:
b0 8
b110 I
b11 9
12
b101 =
1,
#2240
0,
#2250
1"
1#
00
b0 <
04
b100 G
b0 9
02
b100 =
b100 I
1,
#2260
0,
#2270
b0 A
b0 B
b0 C
b0 6
b0 5
b0 7
b1 9
12
b0 =
1,
#2280
0,
#2290
10
b10 9
02
1,
#2295
b0 G
0"
b1 <
14
1)
1*
#2300
0,
#2310
b1 G
b0 F
0H
b0 I
b11 9
12
b1 =
1,
#2315
0*
#2320
0,
#2330
0%
00
b110 G
b0 9
02
0E
b1 I
1,
#2340
0,
#2350
b110 I
b1 9
12
1,
#2360
0,
#2370
b1 7
b1 B
1%
10
b10 9
02
1,
#2380
0,
#2390
b11 9
12
1,
#2400
0,
#2410
0%
00
b0 9
02
1,
#2420
0,
#2430
b1 9
12
1,
#2440
0,
#2450
b10 B
b10 7
1"
1%
10
b10 9
02
1,
#2460
0,
#2470
b11 9
12
1,
#2480
0,
#2490
0%
00
b0 9
02
1,
#2500
0,
#2510
b1 9
12
1,
#2520
0,
#2530
b11 7
b11 B
b1 F
1%
10
b10 9
02
1,
#2540
0,
#2550
b11 9
12
1,
#2560
0,
#2570
0%
00
b0 9
02
1,
#2580
0,
#2590
b1 9
12
1,
#2600
0,
#2610
b100 B
b11 F
b100 7
1%
10
b10 9
02
1,
#2620
0,
#2630
b11 9
12
1,
#2640
0,
#2650
0%
00
b0 9
02
1,
#2660
0,
#2670
b1 9
12
1,
#2680
0,
#2690
b101 7
b101 B
b111 F
1%
10
b10 9
02
1,
#2700
0,
#2710
b11 9
12
1,
#2720
0,
#2730
0%
00
b0 9
02
1,
#2740
0,
#2750
b1 9
12
1,
#2760
0,
#2770
b110 B
b1111 F
b110 7
0"
1%
10
b10 9
02
1,
#2780
0,
#2790
b11 9
12
1,
#2800
0,
#2810
0%
00
b0 9
02
1,
#2820
0,
#2830
b1 9
12
1,
#2840
0,
#2850
b111 7
1"
b111 B
b11110 F
1%
10
b10 9
02
1,
#2860
0,
#2870
b11 9
12
1,
#2880
0,
#2890
0%
00
b0 9
02
1,
#2900
0,
#2910
b1 9
12
1,
#2920
0,
#2930
b1000 B
b111101 F
b1000 7
1%
10
b10 9
02
1,
#2940
0,
#2950
b11 9
12
1,
#2960
0,
#2970
0%
00
b0 9
02
1,
#2980
0,
#2990
b1 9
12
1,
#3000
0,
#3010
b101 <
b11 G
b1001 7
b1001 B
1J
1%
10
b10 9
02
1,
#3020
0,
#3030
0"
0#
1H
b11 <
1E
b11 I
b11 9
12
b101 =
1,
#3040
0,
#3050
0%
00
b0 9
02
b11 =
1,
#3060
0,
#3070
b1 9
12
1,
#3080
0,
#3090
b1 C
b1 A
b1 8
b1 5
bx0 &
bx0 1
1%
10
b10 9
02
1,
#3100
0,
#3110
b11 9
12
1,
#3120
0,
#3130
0%
00
b0 9
02
1,
#3140
0,
#3150
b1 9
12
1,
#3160
0,
#3170
b10 8
b10 5
bx00 &
bx00 1
b10 C
b10 A
1$
1%
10
b10 9
02
1,
#3180
0,
#3190
b11 9
12
1,
#3200
0,
#3210
0%
00
b0 9
02
1,
#3220
0,
#3230
b1 9
12
1,
#3240
0,
#3250
b11 C
b11 A
0$
b11 8
b11 5
bx001 &
bx001 1
1%
10
b10 9
02
1,
#3260
0,
#3270
b11 9
12
1,
#3280
0,
#3290
0%
00
b0 9
02
1,
#3300
0,
#3310
b1 9
12
1,
#3320
0,
#3330
b100 8
b100 5
bx0010 &
bx0010 1
b100 C
b100 A
1$
1%
10
b10 9
02
1,
#3340
0,
#3350
b11 9
12
1,
#3360
0,
#3370
0%
00
b0 9
02
1,
#3380
0,
#3390
b1 9
12
1,
#3400
0,
#3410
b101 C
b101 A
0$
b101 8
b101 5
bx00101 &
bx00101 1
1%
10
b10 9
02
1,
#3420
0,
#3430
b11 9
12
1,
#3440
0,
#3450
0%
00
b0 9
02
1,
#3460
0,
#3470
b1 9
12
1,
#3480
0,
#3490
b110 8
b110 5
bx001010 &
bx001010 1
b110 C
b110 A
1$
1%
10
b10 9
02
1,
#3500
0,
#3510
b11 9
12
1,
#3520
0,
#3530
0%
00
b0 9
02
1,
#3540
0,
#3550
b1 9
12
1,
#3560
0,
#3570
b111 C
b111 A
b111 8
b111 5
bx0010101 &
bx0010101 1
1%
10
b10 9
02
1,
#3580
0,
#3590
b11 9
12
1,
#3600
0,
#3610
0%
00
b0 9
02
1,
#3620
0,
#3630
b1 9
12
1,
#3640
0,
#3650
b1000 8
b1000 5
bx00101011 &
bx00101011 1
b1000 C
b1000 A
0$
1%
10
b10 9
02
1,
#3660
0,
#3670
b11 9
12
1,
#3680
0,
#3690
0%
00
b0 9
02
1,
#3700
0,
#3710
b1 9
12
1,
#3720
0,
#3730
b101 G
b110 <
1:
b1001 C
b1001 A
b1001 8
b1001 5
bx001010110 &
bx001010110 1
1%
10
b10 9
02
1,
#3740
0,
#3750
1#
b11 G
b0 C
b11 <
b0 8
b101 I
b11 9
12
b110 =
1,
#3760
0,
#3770
0#
0%
00
1;
b0 9
02
b11 =
b11 I
1,
#3780
0,
#3790
b1 9
12
1,
#3800
0,
#3810
b1 8
b1010 5
bx0010101100 &
bx0010101100 1
b1 C
b1010 A
1$
1%
10
b10 9
02
1,
#3820
0,
#3830
b11 9
12
1,
#3840
0,
#3850
0%
00
b0 9
02
1,
#3860
0,
#3870
b1 9
12
1,
#3880
0,
#3890
b10 C
b1011 A
b10 8
b1011 5
bx00101011001 &
bx00101011001 1
1%
10
b10 9
02
1,
#3900
0,
#3910
b11 9
12
1,
#3920
0,
#3930
0%
00
b0 9
02
1,
#3940
0,
#3950
b1 9
12
1,
#3960
0,
#3970
b11 8
b1100 5
bx001010110011 &
bx001010110011 1
b11 C
b1100 A
1%
10
b10 9
02
1,
#3980
0,
#3990
b11 9
12
1,
#4000
0,
#4010
0%
00
b0 9
02
1,
#4020
0,
#4030
b1 9
12
1,
#4040
0,
#4050
b100 C
b1101 A
b100 8
b1101 5
bx0010101100111 &
bx0010101100111 1
1%
10
b10 9
02
1,
#4060
0,
#4070
b11 9
12
1,
#4080
0,
#4090
0%
00
b0 9
02
1,
#4100
0,
#4110
b1 9
12
1,
#4120
0,
#4130
b101 8
b1110 5
bx00101011001111 &
bx00101011001111 1
b101 C
b1110 A
0$
1%
10
b10 9
02
1,
#4140
0,
#4150
b11 9
12
1,
#4160
0,
#4170
0%
00
b0 9
02
1,
#4180
0,
#4190
b1 9
12
1,
#4200
0,
#4210
b110 C
b1111 A
b110 8
b1111 5
bx001010110011110 &
bx001010110011110 1
1%
10
b10 9
02
1,
#4220
0,
#4230
b11 9
12
1,
#4240
0,
#4250
0%
00
b0 9
02
1,
#4260
0,
#4270
b1 9
12
1,
#4280
0,
#4290
b111 8
b10000 5
b10101100111100 &
b10101100111100 1
b111 C
b10000 A
1%
10
b10 9
02
1,
#4300
0,
#4310
b11 9
12
1,
#4320
0,
#4330
0%
00
b0 9
02
1,
#4340
0,
#4350
b1 9
12
1,
#4360
0,
#4370
b1000 C
b10001 A
b1000 8
b10001 5
b101011001111000 &
b101011001111000 1
1%
10
b10 9
02
1,
#4380
0,
#4390
b11 9
12
1,
#4400
0,
#4410
0%
00
b0 9
02
1,
#4420
0,
#4430
b1 9
12
1,
#4440
0,
#4450
b110 <
b101 G
b1001 8
b10010 5
b1001 C
b10010 A
1%
10
b10 9
02
1,
#4460
0,
#4470
1#
b100 G
0D
b0 C
b100 <
b101 I
b11 9
12
b110 =
1,
#4480
0,
#4490
1"
00
b0 <
04
b100 G
b0 9
02
b100 =
b100 I
1,
#4500
0,
#4510
b0 A
b0 B
b0 5
b0 7
b0 8
b1 9
12
b0 =
1,
#4515
