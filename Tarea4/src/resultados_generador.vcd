$date
	Fri Oct 25 19:51:51 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module comunicacion_tb $end
$var wire 1 ! rst $end
$var wire 1 " clk $end
$var wire 16 # WR_DATA_OUTPUT [15:0] $end
$var wire 16 $ WR_DATA_INPUT [15:0] $end
$var wire 1 % START_STB $end
$var wire 1 & SDA_OUT $end
$var wire 1 ' SDA_OE $end
$var wire 1 ( SDA_IN $end
$var wire 1 ) SCL $end
$var wire 1 * RNW $end
$var wire 16 + RD_DATA_OUTPUT [15:0] $end
$var wire 16 , RD_DATA_INPUT [15:0] $end
$var wire 7 - I2C_ADDR [6:0] $end
$scope module T0 $end
$var reg 7 . I2C_ADDR [6:0] $end
$var reg 16 / RD_DATA_INPUT [15:0] $end
$var reg 1 * RNW $end
$var reg 1 % START_STB $end
$var reg 16 0 WR_DATA_INPUT [15:0] $end
$var reg 1 " clk $end
$var reg 1 ! rst $end
$upscope $end
$scope module U0 $end
$var wire 7 1 I2C_ADDR [6:0] $end
$var wire 1 * RNW $end
$var wire 1 % START_STB $end
$var wire 16 2 WR_DATA [15:0] $end
$var wire 1 " clk $end
$var wire 1 ! rst $end
$var wire 1 3 clk_div4 $end
$var wire 1 ( SDA_IN $end
$var wire 1 ) SCL $end
$var reg 16 4 RD_DATA [15:0] $end
$var reg 1 ' SDA_OE $end
$var reg 1 & SDA_OUT $end
$var reg 1 5 clk_div2 $end
$var reg 1 6 condicion_de_parada $end
$var reg 1 7 condicion_scl $end
$var reg 5 8 contador_DATA [4:0] $end
$var reg 5 9 contador_RD_DATA [4:0] $end
$var reg 5 : contador_adr [4:0] $end
$var reg 5 ; contador_bits [4:0] $end
$var reg 2 < count_clock [1:0] $end
$var reg 1 = flag_comunicacion $end
$var reg 1 > flag_end_addres $end
$var reg 3 ? next_state [2:0] $end
$var reg 3 @ state [2:0] $end
$upscope $end
$scope module U1 $end
$var wire 7 A I2C_ADDR_receptor [6:0] $end
$var wire 16 B RD_DATA_receptor [15:0] $end
$var wire 1 ) SCL $end
$var wire 1 ' SDA_OE $end
$var wire 1 & SDA_OUT $end
$var wire 1 " clk_receptor $end
$var wire 1 ! rst_receptor $end
$var reg 1 ( SDA_IN $end
$var reg 16 C WR_DATA_receptor [15:0] $end
$var reg 5 D contador_DATA_receptor [4:0] $end
$var reg 5 E contador_adr_receptor [4:0] $end
$var reg 5 F contador_bits_receptor [4:0] $end
$var reg 1 G flag_comunicacion_receptor $end
$var reg 1 H flag_end_addres $end
$var reg 7 I get_I2C_ADDR [6:0] $end
$var reg 3 J next_state_receptor [2:0] $end
$var reg 1 K se_envio_direcion $end
$var reg 3 L state_receptor [2:0] $end
$var reg 1 M ultimo_bit_adr $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
xM
bx L
xK
bx J
bx I
xH
xG
bx F
bx E
bx D
bx C
b101011001111000 B
b111101 A
bx @
bx ?
x>
x=
bx <
bx ;
bx :
bx 9
bx 8
x7
x6
x5
bx 4
x3
b1001000110100 2
b111101 1
b1001000110100 0
b101011001111000 /
b111101 .
b111101 -
b101011001111000 ,
bx +
0*
x)
x(
x'
x&
0%
b1001000110100 $
bx #
0"
0!
$end
#10
0M
b0 I
b0 E
b0 F
03
1)
b0 ?
b0 J
1&
1'
b0 8
b0 <
05
b0 :
b0 ;
06
07
0>
0=
b0 @
b0 D
0K
0H
1G
b0 L
1"
#20
0"
#25
1!
#30
0(
b1 <
15
1"
#40
0"
#50
13
b10 <
05
1"
#60
0"
#70
b11 <
15
1"
#75
b1 J
0&
b1 ?
17
1%
#80
0"
#90
0)
03
b110 J
b0 <
05
b1 @
b1 L
1"
#95
0%
#100
0"
#110
b110 L
b1 <
15
1"
#120
0"
#130
b1 E
b1 :
1)
13
b10 <
05
1"
#140
0"
#150
b11 <
15
1"
#160
0"
#170
0)
03
b0 <
05
1"
#180
0"
#190
b1 <
15
1"
#200
0"
#210
b10 :
1&
b10 E
1)
13
b10 <
05
1"
#220
0"
#230
b11 <
15
1"
#240
0"
#250
0)
03
b0 <
05
1"
#260
0"
#270
b1 <
15
1"
#280
0"
#290
b11 E
b1 I
b11 :
1)
13
b10 <
05
1"
#300
0"
#310
b11 <
15
1"
#320
0"
#330
0)
03
b0 <
05
1"
#340
0"
#350
b1 <
15
1"
#360
0"
#370
b100 :
b100 E
b11 I
1)
13
b10 <
05
1"
#380
0"
#390
b11 <
15
1"
#400
0"
#410
0)
03
b0 <
05
1"
#420
0"
#430
b1 <
15
1"
#440
0"
#450
b101 E
b111 I
b101 :
1)
13
b10 <
05
1"
#460
0"
#470
b11 <
15
1"
#480
0"
#490
0)
03
b0 <
05
1"
#500
0"
#510
b1 <
15
1"
#520
0"
#530
b110 :
0&
b110 E
b1111 I
1)
13
b10 <
05
1"
#540
0"
#550
b11 <
15
1"
#560
0"
#570
0)
03
b0 <
05
1"
#580
0"
#590
b1 <
15
1"
#600
0"
#610
b111 E
b11110 I
b111 :
1&
1)
13
b10 <
05
1"
#620
0"
#630
b11 <
15
1"
#640
0"
#650
0)
03
b0 <
05
1"
#660
0"
#670
b1 <
15
1"
#680
0"
#690
b1000 :
0&
b1000 E
b111101 I
1)
13
b10 <
05
1"
#700
0"
#710
b11 <
15
1"
#720
0"
#730
0)
03
b0 <
05
1"
#740
0"
#750
b1 <
15
1"
#760
0"
#770
0'
b10 J
b101 ?
b1001 E
b1001 :
1)
13
b10 <
05
1"
#780
0"
#790
1K
b10 ?
1H
b10 L
b11 <
15
b101 @
1"
#800
0"
#810
1'
0)
03
b0 <
05
b10 @
1"
#820
0"
#830
b1 <
15
1"
#840
0"
#850
b1 ;
b1 8
b1 F
b1 D
bx0 #
bx0 C
1)
13
b10 <
05
1"
#860
0"
#870
b11 <
15
1"
#880
0"
#890
0)
03
b0 <
05
1"
#900
0"
#910
b1 <
15
1"
#920
0"
#930
b10 F
b10 D
bx00 #
bx00 C
b10 ;
b10 8
1)
13
b10 <
05
1"
#940
0"
#950
b11 <
15
1"
#960
0"
#970
0)
03
b0 <
05
1"
#980
0"
#990
b1 <
15
1"
#1000
0"
#1010
b11 ;
b11 8
b11 F
b11 D
bx000 #
bx000 C
1)
13
b10 <
05
1"
#1020
0"
#1030
b11 <
15
1"
#1040
0"
#1050
0)
03
b0 <
05
1"
#1060
0"
#1070
b1 <
15
1"
#1080
0"
#1090
b100 F
b100 D
bx0000 #
bx0000 C
b100 ;
b100 8
1&
1)
13
b10 <
05
1"
#1100
0"
#1110
b11 <
15
1"
#1120
0"
#1130
0)
03
b0 <
05
1"
#1140
0"
#1150
b1 <
15
1"
#1160
0"
#1170
b101 ;
b101 8
0&
b101 F
b101 D
bx00001 #
bx00001 C
1)
13
b10 <
05
1"
#1180
0"
#1190
b11 <
15
1"
#1200
0"
#1210
0)
03
b0 <
05
1"
#1220
0"
#1230
b1 <
15
1"
#1240
0"
#1250
b110 F
b110 D
bx000010 #
bx000010 C
b110 ;
b110 8
1)
13
b10 <
05
1"
#1260
0"
#1270
b11 <
15
1"
#1280
0"
#1290
0)
03
b0 <
05
1"
#1300
0"
#1310
b1 <
15
1"
#1320
0"
#1330
b111 ;
b111 8
1&
b111 F
b111 D
bx0000100 #
bx0000100 C
1)
13
b10 <
05
1"
#1340
0"
#1350
b11 <
15
1"
#1360
0"
#1370
0)
03
b0 <
05
1"
#1380
0"
#1390
b1 <
15
1"
#1400
0"
#1410
b1000 F
b1000 D
bx00001001 #
bx00001001 C
b1000 ;
b1000 8
0&
1)
13
b10 <
05
1"
#1420
0"
#1430
b11 <
15
1"
#1440
0"
#1450
0)
03
b0 <
05
1"
#1460
0"
#1470
b1 <
15
1"
#1480
0"
#1490
b101 ?
1=
b110 J
b1001 ;
b1001 8
b1001 F
b1001 D
bx000010010 #
bx000010010 C
1)
13
b10 <
05
1"
#1500
0"
#1510
0'
b10 J
b0 F
b10 ?
b0 ;
b110 L
b11 <
15
b101 @
1"
#1520
0"
#1530
1'
0)
03
b0 <
05
b10 @
b10 L
1"
#1540
0"
#1550
b1 <
15
1"
#1560
0"
#1570
b1 F
b1010 D
bx0000100100 #
bx0000100100 C
b1 ;
b1010 8
1)
13
b10 <
05
1"
#1580
0"
#1590
b11 <
15
1"
#1600
0"
#1610
0)
03
b0 <
05
1"
#1620
0"
#1630
b1 <
15
1"
#1640
0"
#1650
b10 ;
b1011 8
1&
b10 F
b1011 D
bx00001001000 #
bx00001001000 C
1)
13
b10 <
05
1"
#1660
0"
#1670
b11 <
15
1"
#1680
0"
#1690
0)
03
b0 <
05
1"
#1700
0"
#1710
b1 <
15
1"
#1720
0"
#1730
b11 F
b1100 D
bx000010010001 #
bx000010010001 C
b11 ;
b1100 8
1)
13
b10 <
05
1"
#1740
0"
#1750
b11 <
15
1"
#1760
0"
#1770
0)
03
b0 <
05
1"
#1780
0"
#1790
b1 <
15
1"
#1800
0"
#1810
b100 ;
b1101 8
0&
b100 F
b1101 D
bx0000100100011 #
bx0000100100011 C
1)
13
b10 <
05
1"
#1820
0"
#1830
b11 <
15
1"
#1840
0"
#1850
0)
03
b0 <
05
1"
#1860
0"
#1870
b1 <
15
1"
#1880
0"
#1890
b101 F
b1110 D
bx00001001000110 #
bx00001001000110 C
b101 ;
b1110 8
1&
1)
13
b10 <
05
1"
#1900
0"
#1910
b11 <
15
1"
#1920
0"
#1930
0)
03
b0 <
05
1"
#1940
0"
#1950
b1 <
15
1"
#1960
0"
#1970
b110 ;
b1111 8
0&
b110 F
b1111 D
bx000010010001101 #
bx000010010001101 C
1)
13
b10 <
05
1"
#1980
0"
#1990
b11 <
15
1"
#2000
0"
#2010
0)
03
b0 <
05
1"
#2020
0"
#2030
b1 <
15
1"
#2040
0"
#2050
b111 F
b10000 D
b100100011010 #
b100100011010 C
b111 ;
b10000 8
1)
13
b10 <
05
1"
#2060
0"
#2070
b11 <
15
1"
#2080
0"
#2090
0)
03
b0 <
05
1"
#2100
0"
#2110
b1 <
15
1"
#2120
0"
#2130
b1000 ;
b10001 8
b1000 F
b10001 D
b1001000110100 #
b1001000110100 C
1)
13
b10 <
05
1"
#2140
0"
#2150
b11 <
15
1"
#2160
0"
#2170
0)
03
b0 <
05
1"
#2180
0"
#2190
b1 <
15
1"
#2200
0"
#2210
b110 J
b101 ?
b1001 F
b10010 D
b1001 ;
b10010 8
1)
13
b10 <
05
1"
#2220
0"
#2230
0'
b100 J
b100 ?
0=
b0 ;
b110 L
b11 <
15
b101 @
1"
#2240
0"
#2250
1&
1'
03
b0 ?
07
b100 J
b0 <
05
b100 @
b100 L
1"
#2260
0"
#2270
b0 D
b0 E
b0 F
b0 9
b0 8
b0 :
b1 <
15
b0 @
1"
#2280
0"
#2290
13
b10 <
05
1"
#2295
b0 J
0&
b1 ?
17
1*
1%
#2300
0"
#2310
b1 J
b0 I
0K
b0 L
b11 <
15
b1 @
1"
#2315
0%
#2320
0"
#2330
0)
03
b110 J
b0 <
05
0H
b1 L
1"
#2340
0"
#2350
b110 L
b1 <
15
1"
#2360
0"
#2370
b1 :
b1 E
1)
13
b10 <
05
1"
#2380
0"
#2390
b11 <
15
1"
#2400
0"
#2410
0)
03
b0 <
05
1"
#2420
0"
#2430
b1 <
15
1"
#2440
0"
#2450
b10 E
b10 :
1&
1)
13
b10 <
05
1"
#2460
0"
#2470
b11 <
15
1"
#2480
0"
#2490
0)
03
b0 <
05
1"
#2500
0"
#2510
b1 <
15
1"
#2520
0"
#2530
b11 :
b11 E
b1 I
1)
13
b10 <
05
1"
#2540
0"
#2550
b11 <
15
1"
#2560
0"
#2570
0)
03
b0 <
05
1"
#2580
0"
#2590
b1 <
15
1"
#2600
0"
#2610
b100 E
b11 I
b100 :
1)
13
b10 <
05
1"
#2620
0"
#2630
b11 <
15
1"
#2640
0"
#2650
0)
03
b0 <
05
1"
#2660
0"
#2670
b1 <
15
1"
#2680
0"
#2690
b101 :
b101 E
b111 I
1)
13
b10 <
05
1"
#2700
0"
#2710
b11 <
15
1"
#2720
0"
#2730
0)
03
b0 <
05
1"
#2740
0"
#2750
b1 <
15
1"
#2760
0"
#2770
b110 E
b1111 I
b110 :
0&
1)
13
b10 <
05
1"
#2780
0"
#2790
b11 <
15
1"
#2800
0"
#2810
0)
03
b0 <
05
1"
#2820
0"
#2830
b1 <
15
1"
#2840
0"
#2850
b111 :
1&
b111 E
b11110 I
1)
13
b10 <
05
1"
#2860
0"
#2870
b11 <
15
1"
#2880
0"
#2890
0)
03
b0 <
05
1"
#2900
0"
#2910
b1 <
15
1"
#2920
0"
#2930
b1000 E
b111101 I
b1000 :
1)
13
b10 <
05
1"
#2940
0"
#2950
b11 <
15
1"
#2960
0"
#2970
0)
03
b0 <
05
1"
#2980
0"
#2990
b1 <
15
1"
#3000
0"
#3010
0&
0'
b101 ?
b11 J
b1001 :
b1001 E
1M
1)
13
b10 <
05
1"
#3020
0"
#3030
1K
b11 ?
1H
b11 L
b11 <
15
b101 @
1"
#3040
0"
#3050
0)
03
b0 <
05
b11 @
1"
#3060
0"
#3070
b1 <
15
1"
#3080
0"
#3090
b1 F
b1 D
b1 ;
b1 8
bx0 +
bx0 4
1)
13
b10 <
05
1"
#3100
0"
#3110
b11 <
15
1"
#3120
0"
#3130
0)
03
b0 <
05
1"
#3140
0"
#3150
b1 <
15
1"
#3160
0"
#3170
b10 ;
b10 8
bx00 +
bx00 4
b10 F
b10 D
1(
1)
13
b10 <
05
1"
#3180
0"
#3190
b11 <
15
1"
#3200
0"
#3210
0)
03
b0 <
05
1"
#3220
0"
#3230
b1 <
15
1"
#3240
0"
#3250
b11 F
b11 D
0(
b11 ;
b11 8
bx001 +
bx001 4
1)
13
b10 <
05
1"
#3260
0"
#3270
b11 <
15
1"
#3280
0"
#3290
0)
03
b0 <
05
1"
#3300
0"
#3310
b1 <
15
1"
#3320
0"
#3330
b100 ;
b100 8
bx0010 +
bx0010 4
b100 F
b100 D
1(
1)
13
b10 <
05
1"
#3340
0"
#3350
b11 <
15
1"
#3360
0"
#3370
0)
03
b0 <
05
1"
#3380
0"
#3390
b1 <
15
1"
#3400
0"
#3410
b101 F
b101 D
0(
b101 ;
b101 8
bx00101 +
bx00101 4
1)
13
b10 <
05
1"
#3420
0"
#3430
b11 <
15
1"
#3440
0"
#3450
0)
03
b0 <
05
1"
#3460
0"
#3470
b1 <
15
1"
#3480
0"
#3490
b110 ;
b110 8
bx001010 +
bx001010 4
b110 F
b110 D
1(
1)
13
b10 <
05
1"
#3500
0"
#3510
b11 <
15
1"
#3520
0"
#3530
0)
03
b0 <
05
1"
#3540
0"
#3550
b1 <
15
1"
#3560
0"
#3570
b111 F
b111 D
b111 ;
b111 8
bx0010101 +
bx0010101 4
1)
13
b10 <
05
1"
#3580
0"
#3590
b11 <
15
1"
#3600
0"
#3610
0)
03
b0 <
05
1"
#3620
0"
#3630
b1 <
15
1"
#3640
0"
#3650
b1000 ;
b1000 8
bx00101011 +
bx00101011 4
b1000 F
b1000 D
0(
1)
13
b10 <
05
1"
#3660
0"
#3670
b11 <
15
1"
#3680
0"
#3690
0)
03
b0 <
05
1"
#3700
0"
#3710
b1 <
15
1"
#3720
0"
#3730
b101 J
b110 ?
1=
b1001 F
b1001 D
b1001 ;
b1001 8
bx001010110 +
bx001010110 4
1)
13
b10 <
05
1"
#3740
0"
#3750
1'
b11 J
b0 F
b11 ?
b0 ;
b101 L
b11 <
15
b110 @
1"
#3760
0"
#3770
0'
0)
03
1>
b0 <
05
b11 @
b11 L
1"
#3780
0"
#3790
b1 <
15
1"
#3800
0"
#3810
b1 ;
b1010 8
bx0010101100 +
bx0010101100 4
b1 F
b1010 D
1(
1)
13
b10 <
05
1"
#3820
0"
#3830
b11 <
15
1"
#3840
0"
#3850
0)
03
b0 <
05
1"
#3860
0"
#3870
b1 <
15
1"
#3880
0"
#3890
b10 F
b1011 D
b10 ;
b1011 8
bx00101011001 +
bx00101011001 4
1)
13
b10 <
05
1"
#3900
0"
#3910
b11 <
15
1"
#3920
0"
#3930
0)
03
b0 <
05
1"
#3940
0"
#3950
b1 <
15
1"
#3960
0"
#3970
b11 ;
b1100 8
bx001010110011 +
bx001010110011 4
b11 F
b1100 D
1)
13
b10 <
05
1"
#3980
0"
#3990
b11 <
15
1"
#4000
0"
#4010
0)
03
b0 <
05
1"
#4020
0"
#4030
b1 <
15
1"
#4040
0"
#4050
b100 F
b1101 D
b100 ;
b1101 8
bx0010101100111 +
bx0010101100111 4
1)
13
b10 <
05
1"
#4060
0"
#4070
b11 <
15
1"
#4080
0"
#4090
0)
03
b0 <
05
1"
#4100
0"
#4110
b1 <
15
1"
#4120
0"
#4130
b101 ;
b1110 8
bx00101011001111 +
bx00101011001111 4
b101 F
b1110 D
0(
1)
13
b10 <
05
1"
#4140
0"
#4150
b11 <
15
1"
#4160
0"
#4170
0)
03
b0 <
05
1"
#4180
0"
#4190
b1 <
15
1"
#4200
0"
#4210
b110 F
b1111 D
b110 ;
b1111 8
bx001010110011110 +
bx001010110011110 4
1)
13
b10 <
05
1"
#4220
0"
#4230
b11 <
15
1"
#4240
0"
#4250
0)
03
b0 <
05
1"
#4260
0"
#4270
b1 <
15
1"
#4280
0"
#4290
b111 ;
b10000 8
b10101100111100 +
b10101100111100 4
b111 F
b10000 D
1)
13
b10 <
05
1"
#4300
0"
#4310
b11 <
15
1"
#4320
0"
#4330
0)
03
b0 <
05
1"
#4340
0"
#4350
b1 <
15
1"
#4360
0"
#4370
b1000 F
b10001 D
b1000 ;
b10001 8
b101011001111000 +
b101011001111000 4
1)
13
b10 <
05
1"
#4380
0"
#4390
b11 <
15
1"
#4400
0"
#4410
0)
03
b0 <
05
1"
#4420
0"
#4430
b1 <
15
1"
#4440
0"
#4450
b110 ?
b101 J
b1001 ;
b10010 8
b1001 F
b10010 D
1)
13
b10 <
05
1"
#4460
0"
#4470
1'
b100 J
0G
b0 F
b100 ?
b101 L
b11 <
15
b110 @
1"
#4480
0"
#4490
1&
03
b0 ?
07
b100 J
b0 <
05
b100 @
b100 L
1"
#4500
0"
#4510
b0 D
b0 E
b0 8
b0 :
b0 ;
b1 <
15
b0 @
1"
#4515
